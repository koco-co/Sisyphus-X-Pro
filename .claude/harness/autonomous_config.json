{
  "$schema": "./config_schema.json",
  "version": "1.0.0",
  "project_name": "Sisyphus-X-Pro",
  "autonomous_mode": {
    "enabled": true,
    "context_threshold": 0.85,
    "max_retries": 3,
    "auto_commit": true,
    "auto_push": false
  },
  "quality_gates": {
    "backend": {
      "lint": {
        "enabled": true,
        "tool": "ruff",
        "fix_on_failure": true
      },
      "type_check": {
        "enabled": true,
        "tool": "pyright"
      },
      "unit_tests": {
        "enabled": true,
        "min_coverage": 80,
        "framework": "pytest"
      }
    },
    "frontend": {
      "lint": {
        "enabled": true,
        "tool": "eslint",
        "fix_on_failure": true
      },
      "type_check": {
        "enabled": true,
        "tool": "tsc"
      },
      "component_tests": {
        "enabled": true,
        "framework": "vitest"
      }
    },
    "e2e": {
      "enabled": true,
      "tool": "playwright",
      "blocking": true,
      "screenshots": true,
      "videos": true
    }
  },
  "agents": {
    "team_lead": {
      "type": "orchestrator",
      "model": "sonnet",
      "permissions": "delegate"
    },
    "product": {
      "type": "general-purpose",
      "model": "sonnet",
      "skills": ["tech-doc-enhancer"],
      "timeout": 1800
    },
    "architect": {
      "type": "general-purpose",
      "model": "sonnet",
      "skills": ["everything-claude-code:architect"],
      "timeout": 3600
    },
    "backend": {
      "type": "general-purpose",
      "model": "sonnet",
      "skills": [
        "everything-claude-code:tdd-guide",
        "everything-claude-code:python-reviewer"
      ],
      "timeout": 7200
    },
    "frontend": {
      "type": "general-purpose",
      "model": "sonnet",
      "skills": [
        "everything-claude-code:tdd-guide",
        "frontend-design:frontend-design"
      ],
      "timeout": 7200
    },
    "e2e": {
      "type": "general-purpose",
      "model": "sonnet",
      "skills": ["everything-claude-code:e2e-runner"],
      "timeout": 3600,
      "blocking": true
    },
    "doc": {
      "type": "general-purpose",
      "model": "haiku",
      "skills": ["everything-claude-code:doc-updater"],
      "timeout": 1800
    },
    "qa": {
      "type": "general-purpose",
      "model": "sonnet",
      "skills": [
        "feature-dev:code-reviewer",
        "everything-claude-code:security-reviewer"
      ],
      "timeout": 3600
    }
  },
  "phases": {
    "requirement": {
      "order": 1,
      "agents": ["product"],
      "outputs": ["temp/01_需求文档.md"],
      "next_phase": "architecture"
    },
    "architecture": {
      "order": 2,
      "agents": ["architect"],
      "dependencies": ["requirement"],
      "outputs": [
        "temp/02_接口定义.md",
        "temp/03_数据库设计.md",
        "temp/04_任务清单.md",
        "CLAUDE.md"
      ],
      "next_phase": "development"
    },
    "development": {
      "order": 3,
      "agents": ["backend", "frontend"],
      "dependencies": ["architecture"],
      "parallel": true,
      "outputs": [
        "backend/app/",
        "frontend/src/",
        "backend/tests/",
        "frontend/src/components/__tests__/"
      ],
      "next_phase": "e2e_testing"
    },
    "e2e_testing": {
      "order": 4,
      "agents": ["e2e"],
      "dependencies": ["development"],
      "blocking": true,
      "outputs": [
        "frontend/e2e/",
        "reports/e2e/"
      ],
      "on_failure": "development",
      "next_phase": "documentation"
    },
    "documentation": {
      "order": 5,
      "agents": ["doc"],
      "dependencies": ["e2e_testing"],
      "outputs": [
        "README.md",
        "CLAUDE.md",
        "CHANGELOG.md",
        "feature_list.json"
      ],
      "next_phase": "qa"
    },
    "qa": {
      "order": 6,
      "agents": ["qa"],
      "dependencies": ["documentation"],
      "outputs": ["reports/qa/"],
      "on_failure": "documentation",
      "next_phase": "delivery"
    },
    "delivery": {
      "order": 7,
      "agents": ["team_lead"],
      "dependencies": ["qa"],
      "outputs": [
        "claude-progress.txt",
        "reports/delivery/"
      ]
    }
  },
  "ralph_loop": {
    "enabled": true,
    "context_threshold": 0.85,
    "auto_trigger": true,
    "state_file": ".claude/harness/ralph_loop_state.json",
    "restart_script": ".claude/harness/ralph_loop_restart.sh"
  },
  "notifications": {
    "on_agent_complete": true,
    "on_phase_complete": true,
    "on_error": true,
    "on_delivery": true
  }
}
