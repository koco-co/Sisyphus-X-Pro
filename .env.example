# ============================================
# Sisyphus-X-Pro 环境配置示例
# ============================================
# 复制此文件为 .env 并根据实际环境修改配置值

# ============================================
# PostgreSQL 配置
# ============================================
POSTGRES_USER=sisyphus
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=sisyphus_db
POSTGRES_PORT=5432

# ============================================
# MinIO 对象存储配置
# ============================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=your_minio_password_here
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_DEFAULT_BUCKETS=sisyphus-files

# ============================================
# Redis 配置
# ============================================
REDIS_PASSWORD=your_redis_password_here
REDIS_PORT=6379

# ============================================
# 应用配置
# ============================================
# 应用运行环境: development / production
APP_ENV=development

# 应用端口
APP_PORT=8000

# JWT 密钥 (生产环境请使用强密码)
JWT_SECRET_KEY=your_jwt_secret_key_here

# JWT 过期时间 (天)
JWT_EXPIRE_DAYS=7

# ============================================
# OAuth 配置 (可选)
# ============================================
# GitHub OAuth
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# ============================================
# 数据库连接 URL (自动生成,通常不需要修改)
# ============================================
DATABASE_URL=postgresql+asyncpg://sisyphus:your_secure_password_here@localhost:5432/sisyphus_db

# ============================================
# MinIO 连接配置 (自动生成,通常不需要修改)
# ============================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=your_minio_password_here
MINIO_USE_SSL=false

# ============================================
# Redis 连接 URL (自动生成,通常不需要修改)
# ============================================
REDIS_URL=redis://:your_redis_password_here@localhost:6379/0

# ============================================
# 文件存储配置
# ============================================
# 文件上传大小限制 (MB)
MAX_UPLOAD_SIZE=100

# 允许的文件类型
ALLOWED_FILE_TYPES=.xlsx,.xls,.csv,.json,.txt,.pdf,.png,.jpg,.jpeg

# ============================================
# Allure 报告配置
# ============================================
# Allure 报告保存天数
ALLURE_REPORT_RETENTION_DAYS=30

# 调试报告临时目录
TEMP_REPORT_DIR=temp

# ============================================
# 定时任务配置
# ============================================
# 数据库连接状态检测间隔 (分钟)
DB_CONNECTION_CHECK_INTERVAL=10

# 临时文件清理时间 (凌晨)
TEMP_CLEANUP_TIME=0:00

# ============================================
# 日志配置
# ============================================
# 日志级别: DEBUG / INFO / WARNING / ERROR / CRITICAL
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE_PATH=logs/app.log

# ============================================
# CORS 配置 (开发环境)
# ============================================
# 允许的前端源
FRONTEND_URL=http://localhost:5173

# 允许的凭证
ALLOW_CREDENTIALS=true

# ============================================
# 安全配置
# ============================================
# 密码哈希算法
PASSWORD_HASH_ALGORITHM=bcrypt

# 密码最小长度
PASSWORD_MIN_LENGTH=8

# Session 过期时间 (秒)
SESSION_EXPIRE_SECONDS=3600

# ============================================
# 速率限制配置
# ============================================
# 每分钟最大请求数
RATE_LIMIT_PER_MINUTE=60

# 登录失败最大尝试次数
MAX_LOGIN_ATTEMPTS=5

# 账户锁定时间 (分钟)
ACCOUNT_LOCK_MINUTES=15
