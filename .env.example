# ============================================
# Sisyphus-X-Pro 环境配置
# ============================================
# 复制此文件为 .env 并根据实际环境修改配置值
# 前后端统一使用此配置文件

# ============================================
# 应用配置
# ============================================
PROJECT_NAME=Sisyphus-X-Pro
VERSION=1.0.0
API_V1_STR=/api/v1
ENVIRONMENT=development

# 应用端口 (后端 FastAPI)
BACKEND_PORT=8000

# 前端端口 (Vite 开发服务器)
VITE_PORT=3000

# ============================================
# 数据库配置
# ============================================
# PostgreSQL 连接 URL (用于 SQLAlchemy)
DATABASE_URL=postgresql+asyncpg://sisyphus:sisyphus_password@localhost:5432/sisyphus_db

# Docker Compose 内部配置
POSTGRES_USER=sisyphus
POSTGRES_PASSWORD=sisyphus_password
POSTGRES_DB=sisyphus_db
POSTGRES_PORT=5432

# ============================================
# 安全配置
# ============================================
# JWT 密钥 (生产环境请使用强密码)
SECRET_KEY=your-super-secret-key-change-in-production

# JWT 算法
ALGORITHM=HS256

# Token 过期时间
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# 密码哈希算法
PASSWORD_HASH_ALGORITHM=bcrypt

# 密码最小长度
PASSWORD_MIN_LENGTH=8

# ============================================
# CORS 配置
# ============================================
# 允许的前端源 (逗号分隔)
BACKEND_CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================
# Redis 配置
# ============================================
REDIS_URL=redis://localhost:6379/0

# Docker Compose 内部配置
REDIS_PASSWORD=
REDIS_PORT=6379

# ============================================
# MinIO 对象存储配置
# ============================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false
MINIO_BUCKET=sisyphus

# Docker Compose 内部配置
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_DEFAULT_BUCKETS=sisyphus-files

# ============================================
# OAuth 配置 (可选 - 留空则禁用)
# ============================================
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# OAuth 回调 URL
OAUTH_REDIRECT_URL=http://localhost:8000/api/v1/auth

# ============================================
# 前端配置 (Vite 环境变量)
# ============================================
VITE_API_URL=http://localhost:8000/api
VITE_APP_TITLE=Sisyphus-X-Pro
VITE_APP_VERSION=1.0.0

# ============================================
# 文件存储配置
# ============================================
MAX_UPLOAD_SIZE=100
ALLOWED_FILE_TYPES=.xlsx,.xls,.csv,.json,.txt,.pdf,.png,.jpg,.jpeg

# ============================================
# Allure 报告配置
# ============================================
ALLURE_REPORT_RETENTION_DAYS=30
TEMP_REPORT_DIR=temp

# ============================================
# 定时任务配置
# ============================================
DB_CONNECTION_CHECK_INTERVAL=10
TEMP_CLEANUP_TIME=0:00

# ============================================
# 日志配置
# ============================================
LOG_LEVEL=INFO
LOG_FILE_PATH=logs/app.log

# ============================================
# 速率限制配置
# ============================================
RATE_LIMIT_PER_MINUTE=60
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCK_MINUTES=15
